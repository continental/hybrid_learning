<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>keypoints_to_lengths &mdash; hybrid_learning  documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/graphviz.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/autoclasstoc.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="lengths_to_body_size" href="hybrid_learning.datasets.custom.person_size_estimation.lengths_to_body_size.html" />
    <link rel="prev" title="person_size_estimation" href="hybrid_learning.datasets.custom.person_size_estimation.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html" class="icon icon-home"> hybrid_learning
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Content</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../quickstart/index.html">Quickstart Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../userguide/index.html">User Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">API Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="hybrid_learning.concepts.html">concepts</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="hybrid_learning.datasets.html">datasets</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="hybrid_learning.datasets.activations_handle.html">activations_handle</a></li>
<li class="toctree-l3"><a class="reference internal" href="hybrid_learning.datasets.base.html">base</a></li>
<li class="toctree-l3"><a class="reference internal" href="hybrid_learning.datasets.caching.html">caching</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="hybrid_learning.datasets.custom.html">custom</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="hybrid_learning.datasets.custom.broden.html">broden</a></li>
<li class="toctree-l4"><a class="reference internal" href="hybrid_learning.datasets.custom.coco.html">coco</a></li>
<li class="toctree-l4"><a class="reference internal" href="hybrid_learning.datasets.custom.fasseg.html">fasseg</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="hybrid_learning.datasets.custom.person_size_estimation.html">person_size_estimation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="hybrid_learning.datasets.data_visualization.html">data_visualization</a></li>
<li class="toctree-l3"><a class="reference internal" href="hybrid_learning.datasets.transforms.html">transforms</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="hybrid_learning.fuzzy_logic.html">fuzzy_logic</a></li>
<li class="toctree-l2"><a class="reference internal" href="hybrid_learning.experimentation.html">experimentation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing.html">How to contribute</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">hybrid_learning</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../index.html">API Reference</a> &raquo;</li>
          <li><a href="hybrid_learning.datasets.html">datasets</a> &raquo;</li>
          <li><a href="hybrid_learning.datasets.custom.html">custom</a> &raquo;</li>
          <li><a href="hybrid_learning.datasets.custom.person_size_estimation.html">person_size_estimation</a> &raquo;</li>
      <li>keypoints_to_lengths</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/apiref/generated/hybrid_learning.datasets.custom.person_size_estimation.keypoints_to_lengths.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="keypoints-to-lengths">
<h1>keypoints_to_lengths<a class="headerlink" href="#keypoints-to-lengths" title="Permalink to this headline"></a></h1>
<dl class="py function">
<dt class="sig sig-object py" id="hybrid_learning.datasets.custom.person_size_estimation.keypoints_to_lengths">
<span class="sig-prename descclassname"><span class="pre">hybrid_learning.datasets.custom.person_size_estimation.</span></span><span class="sig-name descname"><span class="pre">keypoints_to_lengths</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">kpts,</span> <span class="pre">includes=None,</span> <span class="pre">factors=</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">bbox_width</span>&#160; <span class="pre">bbox_height</span>&#160; <span class="pre">...</span>&#160; <span class="pre">upper_arm</span>&#160; <span class="pre">lower_arm</span> <span class="pre">slope</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">1</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">1</span>&#160; <span class="pre">...</span>&#160;&#160;&#160;&#160; <span class="pre">3.7200</span>&#160;&#160;&#160;&#160; <span class="pre">4.4600</span> <span class="pre">intersect</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">0</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">0</span>&#160; <span class="pre">...</span>&#160;&#160;&#160;&#160; <span class="pre">0.4486</span>&#160;&#160;&#160;&#160; <span class="pre">0.5694</span>&#160; <span class="pre">[2</span> <span class="pre">rows</span> <span class="pre">x</span> <span class="pre">11</span> <span class="pre">columns]</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/hybrid_learning/datasets/custom/person_size_estimation.html#keypoints_to_lengths"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hybrid_learning.datasets.custom.person_size_estimation.keypoints_to_lengths" title="Permalink to this definition"></a></dt>
<dd><p>Estimate different skeletal lengths from given 2D joint coordinates.
Due to 2D projection, the maximum estimate is returned for any body part.
Joints may be marked as excluded from calculation by mapping their bool
value to <code class="docutils literal notranslate"><span class="pre">False</span></code> or 0 in <code class="docutils literal notranslate"><span class="pre">includes</span></code> (e.g. use to exclude keypoints
which are not in an image).</p>
<p>To infer the length of body parts for which information is missing,
the given <code class="docutils literal notranslate"><span class="pre">factors</span></code> and further relations listed below are used.
It is assumed that <code class="docutils literal notranslate"><span class="pre">factors</span></code> represents parameters to linearly estimate
the same size (not necessarily the body size) from different body part
sizes. Further used approximate relations from arts best-practice:</p>
<ul class="simple">
<li><p>head width
(see <a class="reference external" href="https://www.makingcomics.com/2014/01/19/standard-proportions-human-body/">https://www.makingcomics.com/2014/01/19/standard-proportions-human-body/</a>):</p>
<ul>
<li><p>head width ~ 5 eye widths</p></li>
<li><p>the space between 2 eyes ~ 1 eye width</p></li>
</ul>
</li>
<li><p>head depth (including nose):</p>
<ul>
<li><p>head depth ~ <span class="math notranslate nohighlight">\(2\times\)</span> ear-to-eye
(see <a class="reference external" href="https://www.artistsnetwork.com/art-mediums/drawing-human-head/">https://www.artistsnetwork.com/art-mediums/drawing-human-head/</a>)</p></li>
<li><p>4/7 head depth ~ ear-to-nose
(see <a class="reference external" href="https://www.artyfactory.com/portraits/pencil-portraits/proportions-of-a-head.html">https://www.artyfactory.com/portraits/pencil-portraits/proportions-of-a-head.html</a>)</p></li>
</ul>
</li>
<li><p>head height
(see <a class="reference external" href="https://www.artyfactory.com/portraits/pencil-portraits/proportions-of-a-head.html">https://www.artyfactory.com/portraits/pencil-portraits/proportions-of-a-head.html</a>):</p>
<ul>
<li><p>head height ~ <span class="math notranslate nohighlight">\(\frac{3}{2}\)</span> head width
(however, height width is often overestimated due to the quality of ear
keypoints, therefore a factor of 1.1 is taken instead)</p></li>
<li><p>head height ~ <span class="math notranslate nohighlight">\(\frac{8}{7}\)</span> head depth (including nose)</p></li>
</ul>
</li>
</ul>
<p><em>Estimated lengths</em> (index of returned <code class="xref py py-class docutils literal notranslate"><span class="pre">pandas.Series</span></code>):
long bones (see <code class="xref py py-func docutils literal notranslate"><span class="pre">_lengths_of_long_bones()</span></code>),
hip_to_shoulder, arm, leg, shoulder_width, wrist_to_wrist, body_height,
head_width, head_height</p>
<p><em>Assumed given joint names:</em>
left_ear, right_ear, left_eye, right_eye, nose, and
those needed by <code class="xref py py-func docutils literal notranslate"><span class="pre">_lengths_of_long_bones()</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kpts</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/typing.html#typing.Mapping" title="(in Python v3.6)"><em>Mapping</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>, </em><em>ndarray</em><em>]</em>) – mapping of joint identifier to x-y-coordinate</p></li>
<li><p><strong>includes</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/typing.html#typing.Optional" title="(in Python v3.6)"><em>Optional</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/typing.html#typing.Mapping" title="(in Python v3.6)"><em>Mapping</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3.6/library/typing.html#typing.Union" title="(in Python v3.6)"><em>Union</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a><em>]</em><em>]</em><em>]</em>) – mapping of joint identifier to bool stating whether to
assume the joint information as known and include the joint in
calculations; see <code class="xref py py-func docutils literal notranslate"><span class="pre">_length_of_links()</span></code></p></li>
<li><p><strong>factors</strong> – parameter information of the same form as
<code class="xref py py-data docutils literal notranslate"><span class="pre">FACTORS</span></code>;
it is not required that the linear formulas represented there calculate
the body height, but they must all calculate the same size estimate</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a <code class="xref py py-class docutils literal notranslate"><span class="pre">pandas.Series</span></code> with the length identifier as
index names and the float lengths as values</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.6/library/typing.html#typing.Dict" title="(in Python v3.6)"><em>Dict</em></a>[<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>, <a class="reference external" href="https://docs.python.org/3.6/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>]</p>
</dd>
</dl>
</dd></dl>

</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="hybrid_learning.datasets.custom.person_size_estimation.html" class="btn btn-neutral float-left" title="person_size_estimation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="hybrid_learning.datasets.custom.person_size_estimation.lengths_to_body_size.html" class="btn btn-neutral float-right" title="lengths_to_body_size" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Continental Automotive GmbH.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>