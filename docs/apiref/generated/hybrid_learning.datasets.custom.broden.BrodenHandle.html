<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>BrodenHandle &mdash; hybrid_learning  documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/graphviz.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/autoclasstoc.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="BrodenLabel" href="hybrid_learning.datasets.custom.broden.BrodenLabel.html" />
    <link rel="prev" title="broden" href="hybrid_learning.datasets.custom.broden.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html" class="icon icon-home"> hybrid_learning
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Content</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../quickstart/index.html">Quickstart Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../userguide/index.html">User Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">API Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="hybrid_learning.concepts.html">concepts</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="hybrid_learning.datasets.html">datasets</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="hybrid_learning.datasets.activations_handle.html">activations_handle</a></li>
<li class="toctree-l3"><a class="reference internal" href="hybrid_learning.datasets.base.html">base</a></li>
<li class="toctree-l3"><a class="reference internal" href="hybrid_learning.datasets.caching.html">caching</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="hybrid_learning.datasets.custom.html">custom</a><ul class="current">
<li class="toctree-l4 current"><a class="reference internal" href="hybrid_learning.datasets.custom.broden.html">broden</a></li>
<li class="toctree-l4"><a class="reference internal" href="hybrid_learning.datasets.custom.coco.html">coco</a></li>
<li class="toctree-l4"><a class="reference internal" href="hybrid_learning.datasets.custom.fasseg.html">fasseg</a></li>
<li class="toctree-l4"><a class="reference internal" href="hybrid_learning.datasets.custom.person_size_estimation.html">person_size_estimation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="hybrid_learning.datasets.data_visualization.html">data_visualization</a></li>
<li class="toctree-l3"><a class="reference internal" href="hybrid_learning.datasets.transforms.html">transforms</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="hybrid_learning.fuzzy_logic.html">fuzzy_logic</a></li>
<li class="toctree-l2"><a class="reference internal" href="hybrid_learning.experimentation.html">experimentation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing.html">How to contribute</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">hybrid_learning</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../index.html">API Reference</a> &raquo;</li>
          <li><a href="hybrid_learning.datasets.html">datasets</a> &raquo;</li>
          <li><a href="hybrid_learning.datasets.custom.html">custom</a> &raquo;</li>
          <li><a href="hybrid_learning.datasets.custom.broden.html">broden</a> &raquo;</li>
      <li>BrodenHandle</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/apiref/generated/hybrid_learning.datasets.custom.broden.BrodenHandle.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="brodenhandle">
<h1>BrodenHandle<a class="headerlink" href="#brodenhandle" title="Permalink to this headline"></a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="hybrid_learning.datasets.custom.broden.BrodenHandle">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">hybrid_learning.datasets.custom.broden.</span></span><span class="sig-name descname"><span class="pre">BrodenHandle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">labels</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataset_root</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">annotations</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">annotations_fp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prune_na</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prune_na_rule</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'all'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">broden_split</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_num_samples</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shuffle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">dataset_args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/hybrid_learning/datasets/custom/broden.html#BrodenHandle"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hybrid_learning.datasets.custom.broden.BrodenHandle" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="hybrid_learning.datasets.base.BaseDataset.html#hybrid_learning.datasets.base.BaseDataset" title="hybrid_learning.datasets.base.BaseDataset"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseDataset</span></code></a></p>
<p>Handle to collect a sub-dataset of a dataset following Broden format.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The original Broden dataset is not required for usage of this handle.
Used datasets just must use a format as is used by the Broden dataset.
In the following, the format specifics relevant for the datasets that
can be handled are explained, using the original Broden Dataset as
role model. <em>(No code from the original datasets was used.)</em></p>
</div>
<p><strong>About the Original Broden Dataset</strong></p>
<p>The Broden dataset is the broad and densely labeled dataset initially
prepared for the paper
<a class="reference external" href="http://arxiv.org/abs/1704.05796">Network Dissection</a>.
It is a combination of the following datasets:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://groups.csail.mit.edu/vision/datasets/ADE20K/">ADE (scene, object, part)</a></p></li>
<li><p><a class="reference external" href="https://cs.stanford.edu/~roozbeh/pascal-context/">Pascal-Context (object)</a></p></li>
<li><p><a class="reference external" href="http://roozbehm.info/pascal-parts/pascal-parts.html">Pascal-Part (part)</a></p></li>
<li><p><a class="reference external" href="http://opensurfaces.cs.cornell.edu/">OpenSurfaces (material)</a></p></li>
<li><p><a class="reference external" href="https://www.robots.ox.ac.uk/~vgg/data/dtd/">DTD (texture)</a></p></li>
<li><p>and a generated color dataset, with 11 human selected colors</p></li>
</ul>
<p>The original Broden data features both
pixel-level semantic segmentation annotations
(for categories see <a class="reference internal" href="#hybrid_learning.datasets.custom.broden.BrodenHandle.SEG_CATS" title="hybrid_learning.datasets.custom.broden.BrodenHandle.SEG_CATS"><code class="xref py py-attr docutils literal notranslate"><span class="pre">SEG_CATS</span></code></a>), and
image-level classification annotations
(for categories see <a class="reference internal" href="#hybrid_learning.datasets.custom.broden.BrodenHandle.CLS_CATS" title="hybrid_learning.datasets.custom.broden.BrodenHandle.CLS_CATS"><code class="xref py py-attr docutils literal notranslate"><span class="pre">CLS_CATS</span></code></a>).</p>
<p>The <a class="reference internal" href="#hybrid_learning.datasets.custom.broden.BrodenHandle.annotations" title="hybrid_learning.datasets.custom.broden.BrodenHandle.annotations"><code class="xref py py-attr docutils literal notranslate"><span class="pre">annotations</span></code></a> attribute stores the raw annotation information
as <code class="xref py py-class docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code> as it is loaded from the index file
(see <a class="reference internal" href="#hybrid_learning.datasets.custom.broden.BrodenHandle.INDEX_CSV_FILE" title="hybrid_learning.datasets.custom.broden.BrodenHandle.INDEX_CSV_FILE"><code class="xref py py-attr docutils literal notranslate"><span class="pre">INDEX_CSV_FILE</span></code></a>) within the
<a class="reference internal" href="hybrid_learning.datasets.base.BaseDataset.html#hybrid_learning.datasets.base.BaseDataset.dataset_root" title="hybrid_learning.datasets.base.BaseDataset.dataset_root"><code class="xref py py-attr docutils literal notranslate"><span class="pre">dataset_root</span></code></a>.
For the format of the annotations see <a class="reference internal" href="#hybrid_learning.datasets.custom.broden.BrodenHandle.annotations" title="hybrid_learning.datasets.custom.broden.BrodenHandle.annotations"><code class="xref py py-attr docutils literal notranslate"><span class="pre">annotations</span></code></a> directly.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To create sub-sets, one can also provide the annotations information
on init.</p>
</div>
<p><strong>Default Output Format</strong></p>
<p>The <a class="reference internal" href="hybrid_learning.datasets.base.BaseDataset.html#hybrid_learning.datasets.base.BaseDataset.getitem" title="hybrid_learning.datasets.base.BaseDataset.getitem"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getitem()</span></code></a> method
yields tuples of input image and a dictionary <code class="docutils literal notranslate"><span class="pre">{label_name:</span> <span class="pre">annotation}</span></code>
containing the annotations for all specified labels.
For the exact output format of the annotations have a look at the
<a class="reference internal" href="#hybrid_learning.datasets.custom.broden.BrodenHandle.getitem" title="hybrid_learning.datasets.custom.broden.BrodenHandle.getitem"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getitem()</span></code></a> doc.
By default, for classification, the annotation is <code class="docutils literal notranslate"><span class="pre">bool</span></code>, and for
segmentation, it is a <code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code> binary mask for the
label. If the label information is missing for the selected item,
<code class="docutils literal notranslate"><span class="pre">None</span></code> is returned instead.
This output is transformed by
<a class="reference internal" href="hybrid_learning.datasets.base.BaseDataset.html#hybrid_learning.datasets.base.BaseDataset.transforms" title="hybrid_learning.datasets.base.BaseDataset.transforms"><code class="xref py py-attr docutils literal notranslate"><span class="pre">transforms</span></code></a> before
yielding it as output of
<a class="reference internal" href="hybrid_learning.datasets.base.BaseDataset.html#hybrid_learning.datasets.base.BaseDataset.__getitem__" title="hybrid_learning.datasets.base.BaseDataset.__getitem__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__getitem__()</span></code></a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>To collect a single custom label/merged annotations from the Broden
dataset, refer to the <a class="reference internal" href="#hybrid_learning.datasets.custom.broden.BrodenHandle.custom_label" title="hybrid_learning.datasets.custom.broden.BrodenHandle.custom_label"><code class="xref py py-meth docutils literal notranslate"><span class="pre">custom_label()</span></code></a> builder.</p></li>
<li><p>To modify the internal annotations table after init, use
<a class="reference internal" href="#hybrid_learning.datasets.custom.broden.BrodenHandle.prune" title="hybrid_learning.datasets.custom.broden.BrodenHandle.prune"><code class="xref py py-meth docutils literal notranslate"><span class="pre">prune()</span></code></a> or directly modify <a class="reference internal" href="#hybrid_learning.datasets.custom.broden.BrodenHandle.annotations" title="hybrid_learning.datasets.custom.broden.BrodenHandle.annotations"><code class="xref py py-attr docutils literal notranslate"><span class="pre">annotations</span></code></a>.</p></li>
</ul>
</div>
<div class="autoclasstoc docutils container">
<p class="rubric">Public Data Attributes:</p>
<table class="autosummary longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#hybrid_learning.datasets.custom.broden.BrodenHandle.CAT_SEP" title="hybrid_learning.datasets.custom.broden.BrodenHandle.CAT_SEP"><code class="xref py py-obj docutils literal notranslate"><span class="pre">CAT_SEP</span></code></a></p></td>
<td><p>Separator string if the category is specified for a label.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#hybrid_learning.datasets.custom.broden.BrodenHandle.LABEL_CSV_FILE" title="hybrid_learning.datasets.custom.broden.BrodenHandle.LABEL_CSV_FILE"><code class="xref py py-obj docutils literal notranslate"><span class="pre">LABEL_CSV_FILE</span></code></a></p></td>
<td><p>Path to the file containing meta-information about the labels, relative to a dataset root.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#hybrid_learning.datasets.custom.broden.BrodenHandle.INDEX_CSV_FILE" title="hybrid_learning.datasets.custom.broden.BrodenHandle.INDEX_CSV_FILE"><code class="xref py py-obj docutils literal notranslate"><span class="pre">INDEX_CSV_FILE</span></code></a></p></td>
<td><p>Path to the file containing the annotation information, relative to a dataset root.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#hybrid_learning.datasets.custom.broden.BrodenHandle.IMAGES_ROOT" title="hybrid_learning.datasets.custom.broden.BrodenHandle.IMAGES_ROOT"><code class="xref py py-obj docutils literal notranslate"><span class="pre">IMAGES_ROOT</span></code></a></p></td>
<td><p>Root directory for annotated image files.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#hybrid_learning.datasets.custom.broden.BrodenHandle.SEG_CATS" title="hybrid_learning.datasets.custom.broden.BrodenHandle.SEG_CATS"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SEG_CATS</span></code></a></p></td>
<td><p>Categories that provide segmentation data.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#hybrid_learning.datasets.custom.broden.BrodenHandle.CLS_CATS" title="hybrid_learning.datasets.custom.broden.BrodenHandle.CLS_CATS"><code class="xref py py-obj docutils literal notranslate"><span class="pre">CLS_CATS</span></code></a></p></td>
<td><p>Categories that provide classification data.</p></td>
</tr>
</tbody>
</table>
<details><summary>Inherited from    : py: class:<cite>BaseDataset</cite></summary><table class="autosummary longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">settings</span></code></p></td>
<td><p>Settings of the instance.</p></td>
</tr>
</tbody>
</table>
</details></div>
<div class="autoclasstoc docutils container">
<p class="rubric">Public Methods:</p>
<table class="autosummary longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#hybrid_learning.datasets.custom.broden.BrodenHandle.standard_prune" title="hybrid_learning.datasets.custom.broden.BrodenHandle.standard_prune"><code class="xref py py-obj docutils literal notranslate"><span class="pre">standard_prune</span></code></a>([max_num_samples, prune_na, ...])</p></td>
<td><p>Apply the specified standard pruning operations.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#hybrid_learning.datasets.custom.broden.BrodenHandle.cut_to" title="hybrid_learning.datasets.custom.broden.BrodenHandle.cut_to"><code class="xref py py-obj docutils literal notranslate"><span class="pre">cut_to</span></code></a>([max_num_samples, shuffle])</p></td>
<td><p>Reduce the number of samples to the first <code class="docutils literal notranslate"><span class="pre">max_num_samples</span></code>, and optionally shuffle.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#hybrid_learning.datasets.custom.broden.BrodenHandle.save_annotations_table" title="hybrid_learning.datasets.custom.broden.BrodenHandle.save_annotations_table"><code class="xref py py-obj docutils literal notranslate"><span class="pre">save_annotations_table</span></code></a>(annotations_fp)</p></td>
<td><p>Save the current <a class="reference internal" href="#hybrid_learning.datasets.custom.broden.BrodenHandle.annotations" title="hybrid_learning.datasets.custom.broden.BrodenHandle.annotations"><code class="xref py py-attr docutils literal notranslate"><span class="pre">annotations</span></code></a> to a CSV file at given <code class="docutils literal notranslate"><span class="pre">annotations_fp</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#hybrid_learning.datasets.custom.broden.BrodenHandle.parse_label" title="hybrid_learning.datasets.custom.broden.BrodenHandle.parse_label"><code class="xref py py-obj docutils literal notranslate"><span class="pre">parse_label</span></code></a>(label_spec, label_infos)</p></td>
<td><p>Given a label specifier, parse it to a <a class="reference internal" href="hybrid_learning.datasets.custom.broden.BrodenLabel.html#hybrid_learning.datasets.custom.broden.BrodenLabel" title="hybrid_learning.datasets.custom.broden.BrodenLabel"><code class="xref py py-class docutils literal notranslate"><span class="pre">BrodenLabel</span></code></a> given <code class="docutils literal notranslate"><span class="pre">label_infos</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#hybrid_learning.datasets.custom.broden.BrodenHandle.getitem" title="hybrid_learning.datasets.custom.broden.BrodenHandle.getitem"><code class="xref py py-obj docutils literal notranslate"><span class="pre">getitem</span></code></a>(i)</p></td>
<td><p>Provide tuple of input image and dictionary with annotations for all labels.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#hybrid_learning.datasets.custom.broden.BrodenHandle.load_anns" title="hybrid_learning.datasets.custom.broden.BrodenHandle.load_anns"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load_anns</span></code></a>(i)</p></td>
<td><p>Load all annotation information for row <code class="docutils literal notranslate"><span class="pre">i</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#hybrid_learning.datasets.custom.broden.BrodenHandle.descriptor" title="hybrid_learning.datasets.custom.broden.BrodenHandle.descriptor"><code class="xref py py-obj docutils literal notranslate"><span class="pre">descriptor</span></code></a>(i)</p></td>
<td><p>Return the relative image file path for item <code class="docutils literal notranslate"><span class="pre">i</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#hybrid_learning.datasets.custom.broden.BrodenHandle.image_filepath" title="hybrid_learning.datasets.custom.broden.BrodenHandle.image_filepath"><code class="xref py py-obj docutils literal notranslate"><span class="pre">image_filepath</span></code></a>(i)</p></td>
<td><p>Get the path to the image file for row <code class="docutils literal notranslate"><span class="pre">i</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#hybrid_learning.datasets.custom.broden.BrodenHandle.load_ann" title="hybrid_learning.datasets.custom.broden.BrodenHandle.load_ann"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load_ann</span></code></a>(label[, i, raw_ann_row, ...])</p></td>
<td><p>Load the annotation information for <code class="docutils literal notranslate"><span class="pre">label</span></code> at row <code class="docutils literal notranslate"><span class="pre">i</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#hybrid_learning.datasets.custom.broden.BrodenHandle.process_seg_mask" title="hybrid_learning.datasets.custom.broden.BrodenHandle.process_seg_mask"><code class="xref py py-obj docutils literal notranslate"><span class="pre">process_seg_mask</span></code></a>(label, rgb_masks)</p></td>
<td><p>Collect the binary segmentation mask for <code class="docutils literal notranslate"><span class="pre">label</span></code> from given relative file paths.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#hybrid_learning.datasets.custom.broden.BrodenHandle.prune" title="hybrid_learning.datasets.custom.broden.BrodenHandle.prune"><code class="xref py py-obj docutils literal notranslate"><span class="pre">prune</span></code></a>(condition[, by_target, show_progress_bar])</p></td>
<td><p>Prune all items that fulfill <code class="docutils literal notranslate"><span class="pre">condition</span></code> from this dataset.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#hybrid_learning.datasets.custom.broden.BrodenHandle.balance" title="hybrid_learning.datasets.custom.broden.BrodenHandle.balance"><code class="xref py py-obj docutils literal notranslate"><span class="pre">balance</span></code></a>(condition[, proportion, by_target, ...])</p></td>
<td><p>Restrict this dataset to a subset with an exact <code class="docutils literal notranslate"><span class="pre">proportion</span></code> fulfilling <code class="docutils literal notranslate"><span class="pre">condition</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#hybrid_learning.datasets.custom.broden.BrodenHandle.shuffle" title="hybrid_learning.datasets.custom.broden.BrodenHandle.shuffle"><code class="xref py py-obj docutils literal notranslate"><span class="pre">shuffle</span></code></a>()</p></td>
<td><p>Shuffle the held annotations and return self.</p></td>
</tr>
</tbody>
</table>
<details><summary>Inherited from    : py: class:<cite>BaseDataset</cite></summary><table class="autosummary longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#hybrid_learning.datasets.custom.broden.BrodenHandle.getitem" title="hybrid_learning.datasets.custom.broden.BrodenHandle.getitem"><code class="xref py py-obj docutils literal notranslate"><span class="pre">getitem</span></code></a>(i)</p></td>
<td><p>Provide tuple of input image and dictionary with annotations for all labels.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#hybrid_learning.datasets.custom.broden.BrodenHandle.descriptor" title="hybrid_learning.datasets.custom.broden.BrodenHandle.descriptor"><code class="xref py py-obj docutils literal notranslate"><span class="pre">descriptor</span></code></a>(i)</p></td>
<td><p>Return the relative image file path for item <code class="docutils literal notranslate"><span class="pre">i</span></code>.</p></td>
</tr>
</tbody>
</table>
</details></div>
<div class="autoclasstoc docutils container">
<p class="rubric">Special Methods:</p>
<table class="autosummary longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#hybrid_learning.datasets.custom.broden.BrodenHandle.__init__" title="hybrid_learning.datasets.custom.broden.BrodenHandle.__init__"><code class="xref py py-obj docutils literal notranslate"><span class="pre">__init__</span></code></a>(labels, dataset_root[, ...])</p></td>
<td><p>Init.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#hybrid_learning.datasets.custom.broden.BrodenHandle.__len__" title="hybrid_learning.datasets.custom.broden.BrodenHandle.__len__"><code class="xref py py-obj docutils literal notranslate"><span class="pre">__len__</span></code></a>()</p></td>
<td><p>Number of data points in the dataset; to be implemented in subclasses.</p></td>
</tr>
</tbody>
</table>
<details><summary>Inherited from    : py: class:<cite>BaseDataset</cite></summary><table class="autosummary longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#hybrid_learning.datasets.custom.broden.BrodenHandle.__init__" title="hybrid_learning.datasets.custom.broden.BrodenHandle.__init__"><code class="xref py py-obj docutils literal notranslate"><span class="pre">__init__</span></code></a>(labels, dataset_root[, ...])</p></td>
<td><p>Init.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#hybrid_learning.datasets.custom.broden.BrodenHandle.__len__" title="hybrid_learning.datasets.custom.broden.BrodenHandle.__len__"><code class="xref py py-obj docutils literal notranslate"><span class="pre">__len__</span></code></a>()</p></td>
<td><p>Number of data points in the dataset; to be implemented in subclasses.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">__getitem__</span></code>(idx)</p></td>
<td><p>Get item from <code class="docutils literal notranslate"><span class="pre">idx</span></code> in dataset with transformations applied.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">__repr__</span></code>()</p></td>
<td><p>Nice printing function.</p></td>
</tr>
</tbody>
</table>
</details><details><summary>Inherited from    : py: class:<cite>Dataset</cite></summary><table class="autosummary longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">__getitem__</span></code>(idx)</p></td>
<td><p>Get item from <code class="docutils literal notranslate"><span class="pre">idx</span></code> in dataset with transformations applied.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">__add__</span></code>(other)</p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
</details></div>
<hr class="docutils" />
<dl class="py method">
<dt class="sig sig-object py" id="hybrid_learning.datasets.custom.broden.BrodenHandle.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">labels</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataset_root</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">annotations</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">annotations_fp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prune_na</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prune_na_rule</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'all'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">broden_split</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_num_samples</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shuffle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">dataset_args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/hybrid_learning/datasets/custom/broden.html#BrodenHandle.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hybrid_learning.datasets.custom.broden.BrodenHandle.__init__" title="Permalink to this definition"></a></dt>
<dd><p>Init.</p>
<p>For further arguments see the details in <a class="reference internal" href="#hybrid_learning.datasets.custom.broden.BrodenHandle.standard_prune" title="hybrid_learning.datasets.custom.broden.BrodenHandle.standard_prune"><code class="xref py py-meth docutils literal notranslate"><span class="pre">standard_prune()</span></code></a>.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Currently, no labels with duplicate names are allowed.
Therefore, a label may only occur for one category.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>labels</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/typing.html#typing.Sequence" title="(in Python v3.6)"><em>Sequence</em></a><em>[</em><a class="reference internal" href="hybrid_learning.datasets.custom.broden.BrodenLabel.html#hybrid_learning.datasets.custom.broden.BrodenLabel" title="hybrid_learning.datasets.custom.broden.BrodenLabel"><em>BrodenLabel</em></a><em>]</em>) – list of labels to collect for each sample.</p></li>
<li><p><strong>dataset_root</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – the path to the root directory holding the
annotation files and the images/ directory with the images and
segmentations</p></li>
<li><p><strong>annotations</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/typing.html#typing.Optional" title="(in Python v3.6)"><em>Optional</em></a><em>[</em><em>DataFrame</em><em>]</em>) – optional initializer for <a class="reference internal" href="#hybrid_learning.datasets.custom.broden.BrodenHandle.annotations" title="hybrid_learning.datasets.custom.broden.BrodenHandle.annotations"><code class="xref py py-attr docutils literal notranslate"><span class="pre">annotations</span></code></a>,
which is by default loaded from <a class="reference internal" href="#hybrid_learning.datasets.custom.broden.BrodenHandle.INDEX_CSV_FILE" title="hybrid_learning.datasets.custom.broden.BrodenHandle.INDEX_CSV_FILE"><code class="xref py py-const docutils literal notranslate"><span class="pre">INDEX_CSV_FILE</span></code></a>;
use to create sub-sets</p></li>
<li><p><strong>annotations_fp</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/typing.html#typing.Optional" title="(in Python v3.6)"><em>Optional</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>]</em>) – optional path to the annotations file;
by default, <code class="docutils literal notranslate"><span class="pre">dataset_root/index.csv</span></code> is assumed</p></li>
<li><p><strong>dataset_args</strong> – arguments to
<a class="reference internal" href="hybrid_learning.datasets.base.BaseDataset.html#hybrid_learning.datasets.base.BaseDataset" title="hybrid_learning.datasets.base.BaseDataset"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseDataset</span></code></a>.</p></li>
<li><p><strong>prune_na</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – </p></li>
<li><p><strong>prune_na_rule</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – </p></li>
<li><p><strong>broden_split</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/typing.html#typing.Optional" title="(in Python v3.6)"><em>Optional</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>]</em>) – </p></li>
<li><p><strong>max_num_samples</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/typing.html#typing.Optional" title="(in Python v3.6)"><em>Optional</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a><em>]</em>) – </p></li>
<li><p><strong>shuffle</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hybrid_learning.datasets.custom.broden.BrodenHandle.__len__">
<span class="sig-name descname"><span class="pre">__len__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/hybrid_learning/datasets/custom/broden.html#BrodenHandle.__len__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hybrid_learning.datasets.custom.broden.BrodenHandle.__len__" title="Permalink to this definition"></a></dt>
<dd><p>Number of data points in the dataset; to be implemented in
subclasses.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hybrid_learning.datasets.custom.broden.BrodenHandle._to_cat_info">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">_to_cat_info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cat_info_str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/hybrid_learning/datasets/custom/broden.html#BrodenHandle._to_cat_info"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hybrid_learning.datasets.custom.broden.BrodenHandle._to_cat_info" title="Permalink to this definition"></a></dt>
<dd><p>Transform category info str of cat1(freq1);cat2(freq2);… to a dict.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>cat_info_str</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – </p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hybrid_learning.datasets.custom.broden.BrodenHandle.balance">
<span class="sig-name descname"><span class="pre">balance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">condition</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">proportion</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">by_target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_progress_bar</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/hybrid_learning/datasets/custom/broden.html#BrodenHandle.balance"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hybrid_learning.datasets.custom.broden.BrodenHandle.balance" title="Permalink to this definition"></a></dt>
<dd><p>Restrict this dataset to a subset with an exact <code class="docutils literal notranslate"><span class="pre">proportion</span></code>
fulfilling <code class="docutils literal notranslate"><span class="pre">condition</span></code>.
For this, <a class="reference internal" href="#hybrid_learning.datasets.custom.broden.BrodenHandle.annotations" title="hybrid_learning.datasets.custom.broden.BrodenHandle.annotations"><code class="xref py py-attr docutils literal notranslate"><span class="pre">annotations</span></code></a> is modified accordingly.
After splitting the dataset by <code class="docutils literal notranslate"><span class="pre">condition</span></code>, the half which is too
large to fulfill <code class="docutils literal notranslate"><span class="pre">proportion</span></code> is reduced by random sub-sampling,
determining the final size of the dataset.</p>
<p>If there is only one class in the dataset, only shuffling is applied.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>condition</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/typing.html#typing.Callable" title="(in Python v3.6)"><em>Callable</em></a><em>[</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/typing.html#typing.Tuple" title="(in Python v3.6)"><em>Tuple</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/typing.html#typing.Any" title="(in Python v3.6)"><em>Any</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3.6/library/typing.html#typing.Any" title="(in Python v3.6)"><em>Any</em></a><em>]</em><em>]</em><em>, </em><a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a><em>]</em>) – callable that accepts the output of
<a class="reference internal" href="hybrid_learning.datasets.base.BaseDataset.html#hybrid_learning.datasets.base.BaseDataset.__getitem__" title="hybrid_learning.datasets.base.BaseDataset.__getitem__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__getitem__()</span></code></a>
and returns a <code class="docutils literal notranslate"><span class="pre">bool</span></code> stating whether this item belongs to the
first split</p></li>
<li><p><strong>proportion</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – the aimed-for proportion of the first split on
the final dataset</p></li>
<li><p><strong>show_progress_bar</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – whether to show a progress bar while
collecting the selector for <code class="docutils literal notranslate"><span class="pre">condition</span></code></p></li>
<li><p><strong>by_target</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – only load the target annotations of each item
(the
<a class="reference internal" href="hybrid_learning.datasets.base.BaseDataset.html#hybrid_learning.datasets.base.BaseDataset.transforms" title="hybrid_learning.datasets.base.BaseDataset.transforms"><code class="xref py py-attr docutils literal notranslate"><span class="pre">transforms</span></code></a>
are applied with dummy input) and apply <code class="docutils literal notranslate"><span class="pre">condition</span></code> to the target;
asserts that transforms yields a tuple of <code class="docutils literal notranslate"><span class="pre">(input,</span> <span class="pre">target)</span></code>;
this is useful to avoid the costly loading of input images if they
do not contribute to the transformations or the <code class="docutils literal notranslate"><span class="pre">condition</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>self</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#hybrid_learning.datasets.custom.broden.BrodenHandle" title="hybrid_learning.datasets.custom.broden.BrodenHandle"><em>BrodenHandle</em></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hybrid_learning.datasets.custom.broden.BrodenHandle.custom_label">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">custom_label</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset_root</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prune_empty</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">balance_pos_to</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">init_args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/hybrid_learning/datasets/custom/broden.html#BrodenHandle.custom_label"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hybrid_learning.datasets.custom.broden.BrodenHandle.custom_label" title="Permalink to this definition"></a></dt>
<dd><p>Return a <a class="reference internal" href="#hybrid_learning.datasets.custom.broden.BrodenHandle" title="hybrid_learning.datasets.custom.broden.BrodenHandle"><code class="xref py py-class docutils literal notranslate"><span class="pre">BrodenHandle</span></code></a> instance with output restricted to
single <code class="docutils literal notranslate"><span class="pre">label</span></code>.</p>
<p>The transformations in
<a class="reference internal" href="hybrid_learning.datasets.base.BaseDataset.html#hybrid_learning.datasets.base.BaseDataset.transforms" title="hybrid_learning.datasets.base.BaseDataset.transforms"><code class="xref py py-attr docutils literal notranslate"><span class="pre">transforms</span></code></a> will be chosen
such that <a class="reference internal" href="hybrid_learning.datasets.base.BaseDataset.html#hybrid_learning.datasets.base.BaseDataset.__getitem__" title="hybrid_learning.datasets.base.BaseDataset.__getitem__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__getitem__()</span></code></a>
outputs a tuple of <code class="docutils literal notranslate"><span class="pre">(input_image,</span> <span class="pre">annotation)</span></code> where</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">input_image</span></code> is encoded as <a class="reference external" href="https://pytorch.org/docs/stable/tensors.html#torch.Tensor" title="(in PyTorch v1.11.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">torch.Tensor</span></code></a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">annotation</span></code> is a <a class="reference external" href="https://pytorch.org/docs/stable/tensors.html#torch.Tensor" title="(in PyTorch v1.11.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">torch.Tensor</span></code></a> holding either the
binary mask for the specified label or the bool classification value.</p></li>
</ul>
<p>The label may either be a label as would be specified in
<a class="reference internal" href="#hybrid_learning.datasets.custom.broden.BrodenHandle" title="hybrid_learning.datasets.custom.broden.BrodenHandle"><code class="xref py py-class docutils literal notranslate"><span class="pre">__init__</span></code></a> or a formula specification string
representing a formula of Boolean
<a class="reference internal" href="hybrid_learning.fuzzy_logic.logic_base.merge_operation.Merge.html#hybrid_learning.fuzzy_logic.logic_base.merge_operation.Merge" title="hybrid_learning.fuzzy_logic.logic_base.merge_operation.Merge"><code class="xref py py-class docutils literal notranslate"><span class="pre">Merge</span></code></a> operations
that can be parsed using a
<a class="reference internal" href="hybrid_learning.fuzzy_logic.tnorm_connectives.boolean.BooleanLogic.html#hybrid_learning.fuzzy_logic.tnorm_connectives.boolean.BooleanLogic" title="hybrid_learning.fuzzy_logic.tnorm_connectives.boolean.BooleanLogic"><code class="xref py py-class docutils literal notranslate"><span class="pre">BooleanLogic</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset_root</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – the <code class="docutils literal notranslate"><span class="pre">dataset_root</span></code> parameter for init of the
<a class="reference internal" href="#hybrid_learning.datasets.custom.broden.BrodenHandle" title="hybrid_learning.datasets.custom.broden.BrodenHandle"><code class="xref py py-class docutils literal notranslate"><span class="pre">BrodenHandle</span></code></a></p></li>
<li><p><strong>label</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – the label to restrict to; may either be a valid string
label name, a valid
<a class="reference internal" href="hybrid_learning.datasets.custom.broden.BrodenLabel.html#hybrid_learning.datasets.custom.broden.BrodenLabel" title="hybrid_learning.datasets.custom.broden.BrodenLabel"><code class="xref py py-class docutils literal notranslate"><span class="pre">BrodenLabel</span></code></a>, or a valid string representation of a
<a class="reference internal" href="hybrid_learning.fuzzy_logic.logic_base.merge_operation.Merge.html#hybrid_learning.fuzzy_logic.logic_base.merge_operation.Merge" title="hybrid_learning.fuzzy_logic.logic_base.merge_operation.Merge"><code class="xref py py-class docutils literal notranslate"><span class="pre">Merge</span></code></a> operation
the
<a class="reference internal" href="hybrid_learning.fuzzy_logic.logic_base.merge_operation.Merge.html#hybrid_learning.fuzzy_logic.logic_base.merge_operation.Merge.all_in_keys" title="hybrid_learning.fuzzy_logic.logic_base.merge_operation.Merge.all_in_keys"><code class="xref py py-class docutils literal notranslate"><span class="pre">all_in_keys</span></code></a>
of which are all valid string label names;</p></li>
<li><p><strong>init_args</strong> – further init arguments to the <a class="reference internal" href="#hybrid_learning.datasets.custom.broden.BrodenHandle" title="hybrid_learning.datasets.custom.broden.BrodenHandle"><code class="xref py py-class docutils literal notranslate"><span class="pre">BrodenHandle</span></code></a></p></li>
<li><p><strong>balance_pos_to</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/typing.html#typing.Optional" title="(in Python v3.6)"><em>Optional</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>]</em>) – if a value given, balance the resulting
<a class="reference internal" href="#hybrid_learning.datasets.custom.broden.BrodenHandle" title="hybrid_learning.datasets.custom.broden.BrodenHandle"><code class="xref py py-class docutils literal notranslate"><span class="pre">BrodenHandle</span></code></a> instance such that the proportion of the
<code class="docutils literal notranslate"><span class="pre">True</span></code> entries is this value;
only use for classification examples</p></li>
<li><p><strong>prune_empty</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/typing.html#typing.Union" title="(in Python v3.6)"><em>Union</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>]</em>) – whether to prune empty entries
(<code class="docutils literal notranslate"><span class="pre">None</span></code> values and empty masks) using <a class="reference internal" href="#hybrid_learning.datasets.custom.broden.BrodenHandle.prune" title="hybrid_learning.datasets.custom.broden.BrodenHandle.prune"><code class="xref py py-meth docutils literal notranslate"><span class="pre">prune()</span></code></a></p></li>
<li><p><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – show progress bars</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#hybrid_learning.datasets.custom.broden.BrodenHandle" title="hybrid_learning.datasets.custom.broden.BrodenHandle"><code class="xref py py-class docutils literal notranslate"><span class="pre">BrodenHandle</span></code></a> instance for <code class="docutils literal notranslate"><span class="pre">dataset_root</span></code> with
<a class="reference internal" href="hybrid_learning.datasets.base.BaseDataset.html#hybrid_learning.datasets.base.BaseDataset.transforms" title="hybrid_learning.datasets.base.BaseDataset.transforms"><code class="xref py py-attr docutils literal notranslate"><span class="pre">transforms</span></code></a> and
<a class="reference internal" href="#hybrid_learning.datasets.custom.broden.BrodenHandle.labels" title="hybrid_learning.datasets.custom.broden.BrodenHandle.labels"><code class="xref py py-class docutils literal notranslate"><span class="pre">labels</span></code></a>
selected such that the output of <a class="reference internal" href="#hybrid_learning.datasets.custom.broden.BrodenHandle.getitem" title="hybrid_learning.datasets.custom.broden.BrodenHandle.getitem"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getitem()</span></code></a> is
transformed to the format specified above</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hybrid_learning.datasets.custom.broden.BrodenHandle.cut_to">
<span class="sig-name descname"><span class="pre">cut_to</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">max_num_samples</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shuffle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/hybrid_learning/datasets/custom/broden.html#BrodenHandle.cut_to"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hybrid_learning.datasets.custom.broden.BrodenHandle.cut_to" title="Permalink to this definition"></a></dt>
<dd><p>Reduce the number of samples to the first <code class="docutils literal notranslate"><span class="pre">max_num_samples</span></code>,
and optionally shuffle.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>max_num_samples</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/typing.html#typing.Optional" title="(in Python v3.6)"><em>Optional</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a><em>]</em>) – </p></li>
<li><p><strong>shuffle</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – </p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#hybrid_learning.datasets.custom.broden.BrodenHandle" title="hybrid_learning.datasets.custom.broden.BrodenHandle"><em>BrodenHandle</em></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hybrid_learning.datasets.custom.broden.BrodenHandle.descriptor">
<span class="sig-name descname"><span class="pre">descriptor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">i</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/hybrid_learning/datasets/custom/broden.html#BrodenHandle.descriptor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hybrid_learning.datasets.custom.broden.BrodenHandle.descriptor" title="Permalink to this definition"></a></dt>
<dd><p>Return the relative image file path for item <code class="docutils literal notranslate"><span class="pre">i</span></code>.
This is unique within a Broden dataset and can be used as an ID e.g.
for caching.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>i</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – </p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hybrid_learning.datasets.custom.broden.BrodenHandle.getitem">
<span class="sig-name descname"><span class="pre">getitem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">i</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/hybrid_learning/datasets/custom/broden.html#BrodenHandle.getitem"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hybrid_learning.datasets.custom.broden.BrodenHandle.getitem" title="Permalink to this definition"></a></dt>
<dd><p>Provide tuple of input image and dictionary with annotations for
all labels. (See <a class="reference internal" href="#hybrid_learning.datasets.custom.broden.BrodenHandle.labels" title="hybrid_learning.datasets.custom.broden.BrodenHandle.labels"><code class="xref py py-attr docutils literal notranslate"><span class="pre">labels</span></code></a>).
Used for
<a class="reference internal" href="hybrid_learning.datasets.base.BaseDataset.html#hybrid_learning.datasets.base.BaseDataset.__getitem__" title="hybrid_learning.datasets.base.BaseDataset.__getitem__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__getitem__()</span></code></a>.</p>
<p>The output format is a tuple of
<code class="docutils literal notranslate"><span class="pre">(input_image,</span> <span class="pre">{label_name:</span> <span class="pre">annotation})</span></code>.
The return type is as follows:
The input image is an RGB image as <code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code>;
For the annotations dictionary holds:</p>
<ul class="simple">
<li><p>Each label from <a class="reference internal" href="#hybrid_learning.datasets.custom.broden.BrodenHandle.labels" title="hybrid_learning.datasets.custom.broden.BrodenHandle.labels"><code class="xref py py-attr docutils literal notranslate"><span class="pre">labels</span></code></a> is considered, and the annotation
for a label is</p>
<ul>
<li><p>for classification: a <code class="docutils literal notranslate"><span class="pre">bool</span></code> value</p></li>
<li><p>for segmentation: a binary mask as <code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></p></li>
</ul>
</li>
<li><p>In case the label is not available, its value in the annotations dict
is <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
</ul>
<p>is a tuple of the input <code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code> and the
annotations dict.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>tuple of input image and annotations dict</p>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><p><strong>i</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – </p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.6/library/typing.html#typing.Tuple" title="(in Python v3.6)"><em>Tuple</em></a>[<em>Image</em>, <a class="reference external" href="https://docs.python.org/3.6/library/typing.html#typing.Dict" title="(in Python v3.6)"><em>Dict</em></a>[<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>, <a class="reference external" href="https://docs.python.org/3.6/library/typing.html#typing.Union" title="(in Python v3.6)"><em>Union</em></a>[<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>, <em>ndarray</em>]]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hybrid_learning.datasets.custom.broden.BrodenHandle.image_filepath">
<span class="sig-name descname"><span class="pre">image_filepath</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">i</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/hybrid_learning/datasets/custom/broden.html#BrodenHandle.image_filepath"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hybrid_learning.datasets.custom.broden.BrodenHandle.image_filepath" title="Permalink to this definition"></a></dt>
<dd><p>Get the path to the image file for row <code class="docutils literal notranslate"><span class="pre">i</span></code>.
Information is retrieved from <a class="reference internal" href="#hybrid_learning.datasets.custom.broden.BrodenHandle.annotations" title="hybrid_learning.datasets.custom.broden.BrodenHandle.annotations"><code class="xref py py-attr docutils literal notranslate"><span class="pre">annotations</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>i</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – </p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hybrid_learning.datasets.custom.broden.BrodenHandle.label_info_for">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">label_info_for</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">label_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_infos</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/hybrid_learning/datasets/custom/broden.html#BrodenHandle.label_info_for"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hybrid_learning.datasets.custom.broden.BrodenHandle.label_info_for" title="Permalink to this definition"></a></dt>
<dd><p>Obtain information for label given by name from label information.
A label may have samples in different categories.</p>
<p>The output features the following information (compare Broden README):</p>
<dl class="field-list simple">
<dt class="field-odd">Number</dt>
<dd class="field-odd"><p>the label ID (used for annotation in the segmentation masks)</p>
</dd>
<dt class="field-even">Name</dt>
<dd class="field-even"><p>the trivial unique name</p>
</dd>
<dt class="field-odd">Category</dt>
<dd class="field-odd"><p>the categories the labels have samples in, specified as
semi-colon separated list of entries in
<code class="docutils literal notranslate"><span class="pre">{'color',</span> <span class="pre">'object',</span> <span class="pre">'material',</span> <span class="pre">'part',</span> <span class="pre">'scene',</span> <span class="pre">'texture'}</span></code>,
each entry followed by the total amount of samples for the label
for that category;
use <a class="reference internal" href="#hybrid_learning.datasets.custom.broden.BrodenHandle._to_cat_info" title="hybrid_learning.datasets.custom.broden.BrodenHandle._to_cat_info"><code class="xref py py-meth docutils literal notranslate"><span class="pre">_to_cat_info()</span></code></a> to process those</p>
</dd>
<dt class="field-even">Frequency</dt>
<dd class="field-even"><p>total number of images having that label over all categories</p>
</dd>
<dt class="field-odd">Coverage</dt>
<dd class="field-odd"><p>the mean(?) pixels per image</p>
</dd>
<dt class="field-even">Syns</dt>
<dd class="field-even"><p>synonyms</p>
</dd>
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>label_name</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – the name of the label</p></li>
<li><p><strong>label_infos</strong> (<em>DataFrame</em>) – the meta-information on all Broden labels as can
by default be loaded from <a class="reference internal" href="#hybrid_learning.datasets.custom.broden.BrodenHandle.LABEL_CSV_FILE" title="hybrid_learning.datasets.custom.broden.BrodenHandle.LABEL_CSV_FILE"><code class="xref py py-const docutils literal notranslate"><span class="pre">LABEL_CSV_FILE</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">pandas.Series</span></code> with above fields filled</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.6/library/exceptions.html#ValueError" title="(in Python v3.6)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a> if the label is not unique or cannot
be found</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><em>Series</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hybrid_learning.datasets.custom.broden.BrodenHandle.load_ann">
<span class="sig-name descname"><span class="pre">load_ann</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">label</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">i</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">raw_ann_row</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">loaded_rgb_masks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/hybrid_learning/datasets/custom/broden.html#BrodenHandle.load_ann"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hybrid_learning.datasets.custom.broden.BrodenHandle.load_ann" title="Permalink to this definition"></a></dt>
<dd><p>Load the annotation information for <code class="docutils literal notranslate"><span class="pre">label</span></code> at row <code class="docutils literal notranslate"><span class="pre">i</span></code>.
Information is retrieved from <a class="reference internal" href="#hybrid_learning.datasets.custom.broden.BrodenHandle.annotations" title="hybrid_learning.datasets.custom.broden.BrodenHandle.annotations"><code class="xref py py-attr docutils literal notranslate"><span class="pre">annotations</span></code></a>.
If the annotation information is missing for the given label category,
return <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If <code class="docutils literal notranslate"><span class="pre">loaded_rgb_masks</span></code> is given, this function has the side effect
of updating this dict with newly loaded masks!
This is used to speed up loading of several labels from the same
mask.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>label</strong> (<a class="reference internal" href="hybrid_learning.datasets.custom.broden.BrodenLabel.html#hybrid_learning.datasets.custom.broden.BrodenLabel" title="hybrid_learning.datasets.custom.broden.BrodenLabel"><em>BrodenLabel</em></a>) – the label to restrict the annotation to</p></li>
<li><p><strong>i</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/typing.html#typing.Optional" title="(in Python v3.6)"><em>Optional</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a><em>]</em>) – the index of the row in the annotations information
<a class="reference internal" href="#hybrid_learning.datasets.custom.broden.BrodenHandle.annotations" title="hybrid_learning.datasets.custom.broden.BrodenHandle.annotations"><code class="xref py py-attr docutils literal notranslate"><span class="pre">annotations</span></code></a> which holds the information for this
single annotation of interest</p></li>
<li><p><strong>raw_ann_row</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/typing.html#typing.Optional" title="(in Python v3.6)"><em>Optional</em></a><em>[</em><em>Series</em><em>]</em>) – optionally directly hand over the row of interest
instead of providing its index (see <code class="docutils literal notranslate"><span class="pre">i</span></code>)</p></li>
<li><p><strong>loaded_rgb_masks</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/typing.html#typing.Optional" title="(in Python v3.6)"><em>Optional</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/typing.html#typing.Dict" title="(in Python v3.6)"><em>Dict</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3.6/library/typing.html#typing.List" title="(in Python v3.6)"><em>List</em></a><em>[</em><em>Image</em><em>]</em><em>]</em><em>]</em>) – RGB segmentation masks loaded so far
(for speed-up); gets updated with any newly loaded masks</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p>One of</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">None</span></code> if category information is missing,</p></li>
<li><p>the binary segmentation mask for the label in case of a
segmentation category,</p></li>
<li><p>the boolean truth value whether the label holds for the image in
case of a classification category</p></li>
</ul>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.6/library/typing.html#typing.Optional" title="(in Python v3.6)"><em>Optional</em></a>[<a class="reference external" href="https://docs.python.org/3.6/library/typing.html#typing.Union" title="(in Python v3.6)"><em>Union</em></a>[<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>, <em>ndarray</em>]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hybrid_learning.datasets.custom.broden.BrodenHandle.load_annotations_table">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">load_annotations_table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">annotations_fp</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/hybrid_learning/datasets/custom/broden.html#BrodenHandle.load_annotations_table"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hybrid_learning.datasets.custom.broden.BrodenHandle.load_annotations_table" title="Permalink to this definition"></a></dt>
<dd><p>Load the annotation information from the file at <code class="docutils literal notranslate"><span class="pre">annotations_fp</span></code>.
For simplicity of parsing, all category and the <code class="docutils literal notranslate"><span class="pre">&quot;image&quot;</span></code> column
are parsed to string.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>annotations_fp</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – the path to the annotations .csv file</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>annotations table with correct types of the category columns</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><em>DataFrame</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hybrid_learning.datasets.custom.broden.BrodenHandle.load_anns">
<span class="sig-name descname"><span class="pre">load_anns</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">i</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/hybrid_learning/datasets/custom/broden.html#BrodenHandle.load_anns"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hybrid_learning.datasets.custom.broden.BrodenHandle.load_anns" title="Permalink to this definition"></a></dt>
<dd><p>Load all annotation information for row <code class="docutils literal notranslate"><span class="pre">i</span></code>.
Information is retrieved from <a class="reference internal" href="#hybrid_learning.datasets.custom.broden.BrodenHandle.annotations" title="hybrid_learning.datasets.custom.broden.BrodenHandle.annotations"><code class="xref py py-attr docutils literal notranslate"><span class="pre">annotations</span></code></a>.
For details on the output format see <a class="reference internal" href="#hybrid_learning.datasets.custom.broden.BrodenHandle.load_ann" title="hybrid_learning.datasets.custom.broden.BrodenHandle.load_ann"><code class="xref py py-meth docutils literal notranslate"><span class="pre">load_ann()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>i</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – </p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.6/library/typing.html#typing.Dict" title="(in Python v3.6)"><em>Dict</em></a>[<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>, <a class="reference external" href="https://docs.python.org/3.6/library/typing.html#typing.Union" title="(in Python v3.6)"><em>Union</em></a>[<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>, <em>ndarray</em>]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hybrid_learning.datasets.custom.broden.BrodenHandle.parse_label">
<span class="sig-name descname"><span class="pre">parse_label</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">label_spec</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_infos</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/hybrid_learning/datasets/custom/broden.html#BrodenHandle.parse_label"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hybrid_learning.datasets.custom.broden.BrodenHandle.parse_label" title="Permalink to this definition"></a></dt>
<dd><p>Given a label specifier, parse it to a <a class="reference internal" href="hybrid_learning.datasets.custom.broden.BrodenLabel.html#hybrid_learning.datasets.custom.broden.BrodenLabel" title="hybrid_learning.datasets.custom.broden.BrodenLabel"><code class="xref py py-class docutils literal notranslate"><span class="pre">BrodenLabel</span></code></a> given
<code class="docutils literal notranslate"><span class="pre">label_infos</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>label_spec</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/typing.html#typing.Union" title="(in Python v3.6)"><em>Union</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>, </em><a class="reference internal" href="hybrid_learning.datasets.custom.broden.BrodenLabel.html#hybrid_learning.datasets.custom.broden.BrodenLabel" title="hybrid_learning.datasets.custom.broden.BrodenLabel"><em>BrodenLabel</em></a><em>]</em>) – the label specifier to turn into a
<a class="reference internal" href="hybrid_learning.datasets.custom.broden.BrodenLabel.html#hybrid_learning.datasets.custom.broden.BrodenLabel" title="hybrid_learning.datasets.custom.broden.BrodenLabel"><code class="xref py py-class docutils literal notranslate"><span class="pre">BrodenLabel</span></code></a></p></li>
<li><p><strong>label_infos</strong> (<em>DataFrame</em>) – the meta-information about all Broden labels;
contains the information about available labels</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the <a class="reference internal" href="hybrid_learning.datasets.custom.broden.BrodenLabel.html#hybrid_learning.datasets.custom.broden.BrodenLabel" title="hybrid_learning.datasets.custom.broden.BrodenLabel"><code class="xref py py-class docutils literal notranslate"><span class="pre">BrodenLabel</span></code></a> instance with information of
the <code class="docutils literal notranslate"><span class="pre">label_spec</span></code></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="hybrid_learning.datasets.custom.broden.BrodenLabel.html#hybrid_learning.datasets.custom.broden.BrodenLabel" title="hybrid_learning.datasets.custom.broden.BrodenLabel"><em>BrodenLabel</em></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hybrid_learning.datasets.custom.broden.BrodenHandle.process_seg_mask">
<span class="sig-name descname"><span class="pre">process_seg_mask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">label</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rgb_masks</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/hybrid_learning/datasets/custom/broden.html#BrodenHandle.process_seg_mask"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hybrid_learning.datasets.custom.broden.BrodenHandle.process_seg_mask" title="Permalink to this definition"></a></dt>
<dd><p>Collect the binary segmentation mask for <code class="docutils literal notranslate"><span class="pre">label</span></code> from given
relative file paths.
Pixels belonging to the given <code class="docutils literal notranslate"><span class="pre">label</span></code> are 1, others 0.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>label</strong> (<a class="reference internal" href="hybrid_learning.datasets.custom.broden.BrodenLabel.html#hybrid_learning.datasets.custom.broden.BrodenLabel" title="hybrid_learning.datasets.custom.broden.BrodenLabel"><em>BrodenLabel</em></a>) – the label to look for
(<a class="reference internal" href="hybrid_learning.datasets.custom.broden.BrodenLabel.html#hybrid_learning.datasets.custom.broden.BrodenLabel.number" title="hybrid_learning.datasets.custom.broden.BrodenLabel.number"><code class="xref py py-attr docutils literal notranslate"><span class="pre">number</span></code></a> needed)</p></li>
<li><p><strong>rgb_masks</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/typing.html#typing.List" title="(in Python v3.6)"><em>List</em></a><em>[</em><em>Image</em><em>]</em>) – a list of RGB masks with label information encoded in
red and green channel; for details on encoding see
<a class="reference internal" href="#hybrid_learning.datasets.custom.broden.BrodenHandle.to_seg_mask" title="hybrid_learning.datasets.custom.broden.BrodenHandle.to_seg_mask"><code class="xref py py-meth docutils literal notranslate"><span class="pre">to_seg_mask()</span></code></a></p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>binary segmentation mask for <code class="docutils literal notranslate"><span class="pre">label</span></code> merged from the
segmentation masks at given file paths</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.6/library/exceptions.html#ValueError" title="(in Python v3.6)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a> for invalid label category</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><em>ndarray</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hybrid_learning.datasets.custom.broden.BrodenHandle.prune">
<span class="sig-name descname"><span class="pre">prune</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">condition</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">by_target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_progress_bar</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/hybrid_learning/datasets/custom/broden.html#BrodenHandle.prune"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hybrid_learning.datasets.custom.broden.BrodenHandle.prune" title="Permalink to this definition"></a></dt>
<dd><p>Prune all items that fulfill <code class="docutils literal notranslate"><span class="pre">condition</span></code> from this dataset.
For this, <a class="reference internal" href="#hybrid_learning.datasets.custom.broden.BrodenHandle.annotations" title="hybrid_learning.datasets.custom.broden.BrodenHandle.annotations"><code class="xref py py-attr docutils literal notranslate"><span class="pre">annotations</span></code></a> is modified accordingly.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>condition</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/typing.html#typing.Callable" title="(in Python v3.6)"><em>Callable</em></a><em>[</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/typing.html#typing.Tuple" title="(in Python v3.6)"><em>Tuple</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/typing.html#typing.Any" title="(in Python v3.6)"><em>Any</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3.6/library/typing.html#typing.Any" title="(in Python v3.6)"><em>Any</em></a><em>]</em><em>]</em><em>, </em><a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a><em>]</em>) – callable that accepts the output of
<a class="reference internal" href="hybrid_learning.datasets.base.BaseDataset.html#hybrid_learning.datasets.base.BaseDataset.__getitem__" title="hybrid_learning.datasets.base.BaseDataset.__getitem__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__getitem__()</span></code></a>
and returns a <code class="docutils literal notranslate"><span class="pre">bool</span></code> stating whether this item is to be pruned</p></li>
<li><p><strong>show_progress_bar</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – whether to show a progress bar while
collecting the selector for <code class="docutils literal notranslate"><span class="pre">condition</span></code></p></li>
<li><p><strong>by_target</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – only load the target annotations of each item
(the
<a class="reference internal" href="hybrid_learning.datasets.base.BaseDataset.html#hybrid_learning.datasets.base.BaseDataset.transforms" title="hybrid_learning.datasets.base.BaseDataset.transforms"><code class="xref py py-attr docutils literal notranslate"><span class="pre">transforms</span></code></a>
are applied with dummy input) and apply <code class="docutils literal notranslate"><span class="pre">condition</span></code> to the target;
asserts that transforms yields a tuple of <code class="docutils literal notranslate"><span class="pre">(input,</span> <span class="pre">target)</span></code>;
this is useful to avoid the costly loading of input images if they
do not contribute to the transformations or the <code class="docutils literal notranslate"><span class="pre">condition</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>this instance (with modified <a class="reference internal" href="#hybrid_learning.datasets.custom.broden.BrodenHandle.annotations" title="hybrid_learning.datasets.custom.broden.BrodenHandle.annotations"><code class="xref py py-attr docutils literal notranslate"><span class="pre">annotations</span></code></a>)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#hybrid_learning.datasets.custom.broden.BrodenHandle" title="hybrid_learning.datasets.custom.broden.BrodenHandle"><em>BrodenHandle</em></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hybrid_learning.datasets.custom.broden.BrodenHandle.save_annotations_table">
<span class="sig-name descname"><span class="pre">save_annotations_table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">annotations_fp</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/hybrid_learning/datasets/custom/broden.html#BrodenHandle.save_annotations_table"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hybrid_learning.datasets.custom.broden.BrodenHandle.save_annotations_table" title="Permalink to this definition"></a></dt>
<dd><p>Save the current <a class="reference internal" href="#hybrid_learning.datasets.custom.broden.BrodenHandle.annotations" title="hybrid_learning.datasets.custom.broden.BrodenHandle.annotations"><code class="xref py py-attr docutils literal notranslate"><span class="pre">annotations</span></code></a> to a CSV file at given
<code class="docutils literal notranslate"><span class="pre">annotations_fp</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>annotations_fp</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – </p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hybrid_learning.datasets.custom.broden.BrodenHandle.shuffle">
<span class="sig-name descname"><span class="pre">shuffle</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/hybrid_learning/datasets/custom/broden.html#BrodenHandle.shuffle"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hybrid_learning.datasets.custom.broden.BrodenHandle.shuffle" title="Permalink to this definition"></a></dt>
<dd><p>Shuffle the held annotations and return self.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#hybrid_learning.datasets.custom.broden.BrodenHandle" title="hybrid_learning.datasets.custom.broden.BrodenHandle"><em>BrodenHandle</em></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hybrid_learning.datasets.custom.broden.BrodenHandle.standard_prune">
<span class="sig-name descname"><span class="pre">standard_prune</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">max_num_samples</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prune_na</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prune_na_rule</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'all'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">broden_split</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shuffle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/hybrid_learning/datasets/custom/broden.html#BrodenHandle.standard_prune"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hybrid_learning.datasets.custom.broden.BrodenHandle.standard_prune" title="Permalink to this definition"></a></dt>
<dd><p>Apply the specified standard pruning operations.
Pruning is applied to the <a class="reference internal" href="#hybrid_learning.datasets.custom.broden.BrodenHandle.annotations" title="hybrid_learning.datasets.custom.broden.BrodenHandle.annotations"><code class="xref py py-attr docutils literal notranslate"><span class="pre">annotations</span></code></a> table.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>prune_na</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – whether to prune all entries (rows) from the
<a class="reference internal" href="#hybrid_learning.datasets.custom.broden.BrodenHandle.annotations" title="hybrid_learning.datasets.custom.broden.BrodenHandle.annotations"><code class="xref py py-attr docutils literal notranslate"><span class="pre">annotations</span></code></a> table in which <code class="docutils literal notranslate"><span class="pre">'all'</span></code> or <code class="docutils literal notranslate"><span class="pre">'any'</span></code> of
the covered label categories are <code class="docutils literal notranslate"><span class="pre">NaN</span></code> (see also <code class="docutils literal notranslate"><span class="pre">prune_rule</span></code>)</p></li>
<li><p><strong>prune_na_rule</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – <p>if <code class="docutils literal notranslate"><span class="pre">prune_na</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code>, rule by which to
select candidates for pruning:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">'all'</span></code>: all categories occurring in the specified labels must
be <code class="docutils literal notranslate"><span class="pre">NaN</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'any'</span></code>: any must be <code class="docutils literal notranslate"><span class="pre">NaN</span></code></p></li>
</ul>
</p></li>
<li><p><strong>broden_split</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/typing.html#typing.Optional" title="(in Python v3.6)"><em>Optional</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>]</em>) – the original dataset had a fixed split into
training (<code class="docutils literal notranslate"><span class="pre">'train'</span></code>) and validation (<code class="docutils literal notranslate"><span class="pre">'val'</span></code>) data;
choose the corresponding original split
(see also  <a class="reference internal" href="#hybrid_learning.datasets.custom.broden.BrodenHandle.annotations" title="hybrid_learning.datasets.custom.broden.BrodenHandle.annotations"><code class="xref py py-attr docutils literal notranslate"><span class="pre">annotations</span></code></a>, where the split
meta-information is stored in)</p></li>
<li><p><strong>max_num_samples</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/typing.html#typing.Optional" title="(in Python v3.6)"><em>Optional</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a><em>]</em>) – the maximum number of samples to select;
if set to <code class="docutils literal notranslate"><span class="pre">None</span></code>, no restriction is applied</p></li>
<li><p><strong>shuffle</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – whether to shuffle the dataset (before restricting to
<code class="docutils literal notranslate"><span class="pre">max_num_samples</span></code>)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>self</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#hybrid_learning.datasets.custom.broden.BrodenHandle" title="hybrid_learning.datasets.custom.broden.BrodenHandle"><em>BrodenHandle</em></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hybrid_learning.datasets.custom.broden.BrodenHandle.to_seg_mask">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">to_seg_mask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">seg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_num</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/hybrid_learning/datasets/custom/broden.html#BrodenHandle.to_seg_mask"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hybrid_learning.datasets.custom.broden.BrodenHandle.to_seg_mask" title="Permalink to this definition"></a></dt>
<dd><p>Given a Broden RGB segmentation, reduce it to a binary mask for
<code class="docutils literal notranslate"><span class="pre">label_num</span></code>.</p>
<p>Broden segmentations are saved as RGB images, where the the label
number of a pixel is
<code class="docutils literal notranslate"><span class="pre">(256</span> <span class="pre">*</span> <span class="pre">green</span> <span class="pre">+</span> <span class="pre">red)</span></code> with <code class="docutils literal notranslate"><span class="pre">red</span></code> the red channel value of the pixel,
and <code class="docutils literal notranslate"><span class="pre">green</span></code> its green  channel value.
A label number of <code class="docutils literal notranslate"><span class="pre">0</span></code> means background.</p>
<p>The label number is the <code class="docutils literal notranslate"><span class="pre">'number'</span></code> field from
<a class="reference internal" href="#hybrid_learning.datasets.custom.broden.BrodenHandle.label_info_for" title="hybrid_learning.datasets.custom.broden.BrodenHandle.label_info_for"><code class="xref py py-attr docutils literal notranslate"><span class="pre">label_info_for</span></code></a> respectively the
<a class="reference internal" href="hybrid_learning.datasets.custom.broden.BrodenLabel.html#hybrid_learning.datasets.custom.broden.BrodenLabel.number" title="hybrid_learning.datasets.custom.broden.BrodenLabel.number"><code class="xref py py-attr docutils literal notranslate"><span class="pre">BrodenLabel.number</span></code></a> attribute.
One can either specify a single label number as <code class="docutils literal notranslate"><span class="pre">int</span></code>, or an iterable
of label numbers.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>seg</strong> (<em>Image</em>) – the original RGB segmentation mask encoded as described
above</p></li>
<li><p><strong>label_num</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – the label number to restrict the mask to</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>union of binary segmentation masks for given label numbers</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><em>ndarray</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="hybrid_learning.datasets.custom.broden.BrodenHandle.CAT_SEP">
<span class="sig-name descname"><span class="pre">CAT_SEP</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'&gt;&gt;'</span></em><a class="headerlink" href="#hybrid_learning.datasets.custom.broden.BrodenHandle.CAT_SEP" title="Permalink to this definition"></a></dt>
<dd><p>Separator string if the category is specified for a label.
Then the format is <code class="docutils literal notranslate"><span class="pre">&quot;{label}{sep}{category}&quot;</span></code>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="hybrid_learning.datasets.custom.broden.BrodenHandle.CLS_CATS">
<span class="sig-name descname"><span class="pre">CLS_CATS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('scene',</span> <span class="pre">'texture')</span></em><a class="headerlink" href="#hybrid_learning.datasets.custom.broden.BrodenHandle.CLS_CATS" title="Permalink to this definition"></a></dt>
<dd><p>Categories that provide classification data.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="hybrid_learning.datasets.custom.broden.BrodenHandle.IMAGES_ROOT">
<span class="sig-name descname"><span class="pre">IMAGES_ROOT</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><span class="pre">str</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'images'</span></em><a class="headerlink" href="#hybrid_learning.datasets.custom.broden.BrodenHandle.IMAGES_ROOT" title="Permalink to this definition"></a></dt>
<dd><p>Root directory for annotated image files.
Relative to the
<a class="reference internal" href="hybrid_learning.datasets.base.BaseDataset.html#hybrid_learning.datasets.base.BaseDataset.dataset_root" title="hybrid_learning.datasets.base.BaseDataset.dataset_root"><code class="xref py py-attr docutils literal notranslate"><span class="pre">dataset_root</span></code></a>.
Annotations can be found in <a class="reference internal" href="#hybrid_learning.datasets.custom.broden.BrodenHandle.INDEX_CSV_FILE" title="hybrid_learning.datasets.custom.broden.BrodenHandle.INDEX_CSV_FILE"><code class="xref py py-attr docutils literal notranslate"><span class="pre">INDEX_CSV_FILE</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="hybrid_learning.datasets.custom.broden.BrodenHandle.INDEX_CSV_FILE">
<span class="sig-name descname"><span class="pre">INDEX_CSV_FILE</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><span class="pre">str</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'index.csv'</span></em><a class="headerlink" href="#hybrid_learning.datasets.custom.broden.BrodenHandle.INDEX_CSV_FILE" title="Permalink to this definition"></a></dt>
<dd><p>Path to the file containing the annotation information, relative to a
dataset root.
For the encoding see the documentation of this class.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="hybrid_learning.datasets.custom.broden.BrodenHandle.LABEL_CSV_FILE">
<span class="sig-name descname"><span class="pre">LABEL_CSV_FILE</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><span class="pre">str</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'label.csv'</span></em><a class="headerlink" href="#hybrid_learning.datasets.custom.broden.BrodenHandle.LABEL_CSV_FILE" title="Permalink to this definition"></a></dt>
<dd><p>Path to the file containing meta-information about the labels, relative
to a dataset root.
For details on the encoding see <a class="reference internal" href="#hybrid_learning.datasets.custom.broden.BrodenHandle.label_info_for" title="hybrid_learning.datasets.custom.broden.BrodenHandle.label_info_for"><code class="xref py py-meth docutils literal notranslate"><span class="pre">label_info_for()</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="hybrid_learning.datasets.custom.broden.BrodenHandle.SEG_CATS">
<span class="sig-name descname"><span class="pre">SEG_CATS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('object',</span> <span class="pre">'part',</span> <span class="pre">'color',</span> <span class="pre">'material')</span></em><a class="headerlink" href="#hybrid_learning.datasets.custom.broden.BrodenHandle.SEG_CATS" title="Permalink to this definition"></a></dt>
<dd><p>Categories that provide segmentation data.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="hybrid_learning.datasets.custom.broden.BrodenHandle.__parameters__">
<span class="sig-name descname"><span class="pre">__parameters__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">()</span></em><a class="headerlink" href="#hybrid_learning.datasets.custom.broden.BrodenHandle.__parameters__" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="hybrid_learning.datasets.custom.broden.BrodenHandle.annotations">
<span class="sig-name descname"><span class="pre">annotations</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">pd.DataFrame</span></em><a class="headerlink" href="#hybrid_learning.datasets.custom.broden.BrodenHandle.annotations" title="Permalink to this definition"></a></dt>
<dd><p>The actual annotation (meta-)information.
The columns used here are described below.</p>
<p class="rubric">Preliminary Remarks</p>
<ul class="simple">
<li><p>All file-paths are relative to
<a class="reference internal" href="hybrid_learning.datasets.base.BaseDataset.html#hybrid_learning.datasets.base.BaseDataset.dataset_root" title="hybrid_learning.datasets.base.BaseDataset.dataset_root"><code class="xref py py-attr docutils literal notranslate"><span class="pre">dataset_root</span></code></a>
<code class="docutils literal notranslate"><span class="pre">/images</span></code>.</p></li>
<li><p>Several files or class labels may be given, separated by semi-colon.</p></li>
<li><p>A mask for a category is an RGB-image encoding segmentation masks for
all different labels of that category.
For the encoding see <a class="reference internal" href="#hybrid_learning.datasets.custom.broden.BrodenHandle.process_seg_mask" title="hybrid_learning.datasets.custom.broden.BrodenHandle.process_seg_mask"><code class="xref py py-meth docutils literal notranslate"><span class="pre">process_seg_mask()</span></code></a>.</p></li>
<li><p>An annotation may have labels in different categories
(i.e. entries in these category columns). If annotation information
for a category is missing, this column is <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
</ul>
<p class="rubric">The Columns</p>
<p>The following columns are used here:</p>
<ul class="simple">
<li><p><em>image</em>: The file-path to the original image file of this annotation</p></li>
<li><p><em>split</em>: The dataset split for which this annotation was used
(<code class="docutils literal notranslate"><span class="pre">train</span></code> or <code class="docutils literal notranslate"><span class="pre">val</span></code>)</p></li>
<li><p>category columns:</p>
<ul>
<li><p><em>color</em>: color mask file-path</p></li>
<li><p><em>object</em>: object mask file-path (semantic object segmentation)</p></li>
<li><p><em>part</em>: part mask file-path (same as object masks, only parts
belong to a super-object)</p></li>
<li><p><em>material</em>: material mask file-path</p></li>
<li><p><em>scene</em>: label number of the depicted scene</p></li>
<li><p><em>texture</em>: texture label numbers</p></li>
</ul>
</li>
</ul>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="hybrid_learning.datasets.custom.broden.BrodenHandle.labels">
<span class="sig-name descname"><span class="pre">labels</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="hybrid_learning.datasets.custom.broden.BrodenLabel.html#hybrid_learning.datasets.custom.broden.BrodenLabel" title="hybrid_learning.datasets.custom.broden.BrodenLabel"><span class="pre">BrodenLabel</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#hybrid_learning.datasets.custom.broden.BrodenHandle.labels" title="Permalink to this definition"></a></dt>
<dd><p>The labels to load the values for in each line of the Broden
annotations.</p>
</dd></dl>

</dd></dl>

</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="hybrid_learning.datasets.custom.broden.html" class="btn btn-neutral float-left" title="broden" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="hybrid_learning.datasets.custom.broden.BrodenLabel.html" class="btn btn-neutral float-right" title="BrodenLabel" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Continental Automotive GmbH.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>